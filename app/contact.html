<!DOCTYPE HTML>
<!--
	Twenty by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Contact and Booking | Oahu Picture Cars</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />

		<!-- build:js bower_components/webcomponentsjs/webcomponents.min.js -->
		<script src="bower_components/webcomponentsjs/webcomponents.js"></script>
		<!-- endbuild -->

		<!-- build:vulcanized elements/elements.vulcanized.html -->
		<link rel="import" href="elements/elements.html">
		<!-- endbuild-->

		<!-- build:js scripts/vendor.js -->
		<script src="scripts/vendor/jquery.min.js"></script>
		<script src="scripts/vendor/jquery.dropotron.min.js"></script>
		<script src="scripts/vendor/jquery.scrolly.min.js"></script>
		<script src="scripts/vendor/jquery.scrollgress.min.js"></script>
		<script src="scripts/vendor/skel.min.js"></script>
		<script src="scripts/vendor/skel-layers.min.js"></script>
		<script src="scripts/vendor/init.js"></script>
		<!-- endbuild-->

		<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
		<!-- build:css styles/main.css -->
		<link rel="stylesheet" href="css/skel.css" />
		<link rel="stylesheet" href="css/skel.css" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/style-wide.css" />
		<link rel="stylesheet" href="css/style-noscript.css" />
		<!-- endbuild-->

	</head>
	<body class="contact">

		<!-- Header -->
			<header id="header" class="">
				<h1 id="logo"><a href="index.html">Oahu <span>Picture Cars</span></a></h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Welcome</a></li>
						<li><a href="cars.html" class="">The Cars</a></li>
						<li class="current">
							<a href="">Contact & Booking</a>
						</li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<article id="main">

				<header class="special container">
					<span class="icon fa-envelope"></span>
					<h2>Ready to Get Started?</h2>
						<p class="container 75%">Use the form below to indicate the date and car you're interested in
							and we'll contact you within 1 (or whatever) business day to help
							make your event even more special.</p>
				</header>

				<!-- One -->
					<section class="wrapper style4 special container 75%">

						<!-- Content -->
							<div class="content">
								<form id="contact" method="post" action="">
									<style>
									input[type="date"]::-webkit-calendar-picker-indicator{
										display:inline-block;
										margin-top:2%;
										float:right;
									}
									input[type="date"]::-webkit-inner-spin-button {
										display: none;
										margin: 0;
									}
									.custom-dropdown::before,
									.custom-dropdown::after {
											content: "";
											position: absolute;
											pointer-events: none;
									}

									.custom-dropdown::after { /*  Custom dropdown arrow */
											content: "\25BC";
											height: 1em;
											font-size: .625em;
											line-height: 1;
											right: 1.2em;
											top: 50%; margin-top: -.5em;
									}

									.custom-dropdown::before { /*  Custom dropdown arrow cover */
											width: 2em;
											right: 0; top: 0; bottom: 0;
											border-radius: 0 3px 3px 0;
									}
									</style>
									<div class="row 50%">
										<div class="6u" style="text-align:left">
											<label for="date" >Preferred Date</label>
											<input id="date" type="date" name="date" placeholder="Preferred Date" />
										</div>
										<div class="6u" style="text-align:left">
											<label for="car" >Preferred Car</label>
												<select id="car" name="car" style="display: inline; width:98%; line-height: 1em;padding: 17px 14px;" placeholder="Preferred Car">
													<option value="Car 1">Bus</option>
													<option value="Car 2">Vintage</option>
													<option value="Car 3">James Bond</option>
													<option value="Car 4">The Other Old One</option>
												</select>
											<label for="car" style="margin-left:-2em; pointer-events: none;">&#9660;</label>
										</div>
									</div>
									<div class="row 50%">

									</div>
									<div class="row 50%">
										<div class="6u 12u(mobile)">
											<input id="name" type="text" name="name" placeholder="Name" />
										</div>
										<div class="6u 12u(mobile)">
											<input id="email" type="text" name="email" placeholder="Email" />
										</div>
									</div>
									<div class="row 50%">
										<div class="12u">
											<textarea id="notes" name="notes" placeholder="Additional Notes" rows="7"></textarea>
										</div>
									</div>
									<div class="row">
										<div class="12u">
											<ul class="buttons">
												<li><input type="submit" class="special" value="Send Message" /> <paper-spinner id="spinner"></paper-spinner></li>
											</ul>
										</div>
									</div>
								</form>
							</div>

					</section>

			</article>

		<!-- Footer -->
			<footer id="footer">

				<ul class="icons">
					<li><a href="#" class="icon circle fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon circle fa-facebook"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon circle fa-google-plus"><span class="label">Google+</span></a></li>
					<li><a href="#" class="icon circle fa-github"><span class="label">Github</span></a></li>
					<li><a href="#" class="icon circle fa-dribbble"><span class="label">Dribbble</span></a></li>
				</ul>

				<ul class="copyright">
					<li>&copy; Oahu Picture Cars</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>

			</footer>

			<core-ajax
				id="contactFormRequest"
				url="https://script.google.com/macros/s/AKfycbzfFcpyBLKVWS5UNiGBxDUs6b50tThZcIbG4U4AJ2Bhnbd_CJk/exec"
				method="post"
				headers='{"Content-type": "application/x-www-form-urlencoded"}'
				handleAs="json"></core-ajax>

				<paper-toast id="success" role="alert" text="Message recieved :)"></paper-toast>
				<paper-action-dialog
						id="responseErrorDialog"
						backdrop="true"
						layered="true"
						autoCloseDisabled="true"
						heading="There was an error trying to contact us!">
					<p>:( Please try again or use our
						<a href="https://docs.google.com/forms/d/14TPVIKJoiF45PGJKHJmStLX5sWi0UIHaqdnLUZPn7fY/viewform" target="_blank">Google Form</a>
					</p>
					<paper-button affirmative>OK</paper-button>
				</paper-action-dialog>

			<script type="text/javascript">

				var form = document.getElementById("contact");

				form.onsubmit = function (e) {

					var spinner = document.getElementById("spinner");
					spinner.active = true;

					e.preventDefault();

					var requestBody = "";

					var date = document.getElementById("date");
					requestBody += date.name + "=" + date.value;
					var car = document.getElementById("car");
					requestBody += "&" + car.name + "=" + car.value;
					var name = document.getElementById("name");
					requestBody += "&" + name.name + "=" + name.value;
					var email = document.getElementById("email");
					requestBody += "&" + email.name + "=" + email.value;
					var notes = document.getElementById("notes");
					requestBody += "&" + notes.name + "=" + notes.value;

					var contactFormRequest = document.getElementById("contactFormRequest");
					contactFormRequest.body = requestBody;

					contactFormRequest.addEventListener('core-response', function(event) {
						spinner.active = false;
						document.getElementById("success").show();
						date.value = "";
						car.selectedIndex = 0;
						name.value = "";
						email.value = "";
						notes.value = "";
					});

					contactFormRequest.addEventListener('core-error', function(event) {
						spinner.active = false;
						document.getElementById("responseErrorDialog").open();
					});

					contactFormRequest.go();


					// e.preventDefault();
					//
					// var data = "";
					// for (var i = 0, ii = form.length; i < ii; ++i) {
					// 	var input = form[i];
					// 	if (input.name) {
					// 		data += input.name + "=" + input.value + "&";
					// 	}
					// }
					//
					// var xhr = new XMLHttpRequest();
					// xhr.open(form.method, form.action, true);
					// xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
					//
					// //xhr.send(data + "ifq");
					//
					// xhr.onloadend = function () {
					// 	console.log("Done");
					// };

				}
		</script>

	</body>
</html>
